@using UT.SL.Helper
@using UT.SL.Security
@model List<UT.SL.Model.Models.ForumDiscussionsModel>

<div class="discussion " id="discussions">
    <div class="inline discussionTitle">
        <div class="inline" data-showeditdelete="true">
            &nbsp;<span class="glyphicon glyphicon-list-alt"></span>&nbsp;<strong>@Model.First().Discussion.Title</strong>
            @Html.Action("GetDiscussionsCount", "ForumDiscussion", new { area = "Admin", id = Model.First().Discussion.Id })
            <span class="glyphicon glyphicon-backward back pointercursor paddingSides paleIt" data-id="@Model.First().Discussion.ForumId" title="@UT.SL.Model.Resource.App_Common.BackToDiscussions" style="margin-right:1px; margin-left:2px; cursor:pointer"></span>

        </div>      
       
        @*<div class="pointercursor inline paleIt" data-scrolltoid=".scrollHere@(Model.First().Discussion.Id)" data-scrollto="true" title="@UT.SL.Model.Resource.App_Common.Reply" style="margin-right:2px; margin-left:1px;">
                <span class="glyphicon glyphicon-share-alt"></span>
            </div>*@
        @*<div class="inline">
                @Ajax.AuthorizationActionLinkBootstrap(User.Identity.Name, Model.First().Discussion.Id, (int)UT.SL.Model.Enumeration.ObjectType.ForumDiscussion, "glyphicon glyphicon-refresh", UT.SL.Model.Resource.App_Common.Refresh, "Discussions", "ForumDiscussion", new { area = "admin", id = Model.First().Discussion.Id },
                       new AjaxOptions()
                       {
                           HttpMethod = "GET",
                           InsertionMode = InsertionMode.Replace,
                           UpdateTargetId = "oneDiscussion" + Model.First().Discussion.ForumId,
                           LoadingElementId = "loadingAjax"
                       }, new { @class = "view paleIt" }, null)
            </div>*@
    </div>
    <div class="allDiscussions ">
        <div class="row">
            <div class="col-md-12">
                <div id="discussionsReplis">
                    @if (ViewBag.clickedDate != null)
                    {
                        @Html.Action("DiscussionRepliesThread", "ForumDiscussion", new { area = "admin", id = Model.First().Discussion.Id, clickedDate = ViewBag.clickedDate })
                    }
                    else
                    {
                        @Html.Partial("DiscussionRepliesThread", Model)
                    }
                </div>
            </div>
        </div>

        <div class="row" id="discussionsReplisForm">
            <div class="col-md-12">
                <div class="marginTop20">
                    @Html.Action("GetReplyForm", "ForumDiscussion", new { area = "Admin", id = Model.First().Discussion.Id })
                </div>
            </div>
        </div>
    </div>
    @*<div class="inline discussionTitle">
            <div class="back pointercursor inline paddingSides paleIt" data-id="@Model.First().Discussion.ForumId" title="@UT.SL.Model.Resource.App_Common.Back" style="margin-right:1px; margin-left:2px;">
                <span class="glyphicon glyphicon-backward"></span>
            </div>

        </div>*@
</div>